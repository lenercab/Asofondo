<?xml version="1.0" encoding="UTF-8"?>
<tns:DatabaseConfiguration
    xmlns:tns="http://www.example.org/DatabaseConfiguration" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.example.org/DatabaseConfiguration DatabaseConfiguration.xsd ">
    <tns:DriverClass></tns:DriverClass>
    <tns:ConnectionURL></tns:ConnectionURL>
    <tns:User></tns:User>
    <tns:Password></tns:Password>
    <tns:MetadataQueries>
    
    	<!-- Consulta para validar la existencia de un vinculado sobre el sistema BEPS -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarVinculado</tns:QueryName>
            <tns:CommandText>select vpe_pk_id, vvi_estado_vinculado, vvi_detalle_estado_vinculado
				from BEPS_TRANSACCIONAL.vinculacion.vinc_persona 
				inner join BEPS_TRANSACCIONAL.vinculacion.vinc_vinculado
				on vvi_pk_id = vpe_pk_id
				where vpe_tipo_documento = ?
				and vpe_numero_documento = ?
				and vvi_tipo_vinculado = 'V'
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_tipo_documento</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_numero_documento</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>15</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta para validar la existencia de un número de radicación padre. -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarNumRadicacionPadre</tns:QueryName>
            <tns:CommandText>select osd_pk_id
				from BEPS_TRANSACCIONAL.otorgamiento.otor_solicitud_destinacion 
				where osd_numero_radicado = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@osd_numero_radicado_padre</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
            
        <!-- Query para actualizar la información del vinculado que solicita la destinacion de recursos por primera vez. -->
         <tns:MetadataQuery>
			<tns:QueryName>StoredProcedure_pr_otor_act_dat_vinc_inicio</tns:QueryName>
			<tns:CommandText>BEPS_TRANSACCIONAL.[otorgamiento].[pr_otor_act_dat_vinc_inicio](?,?,?,?,?,?,?,?,?,?,?)</tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_autorizacion_manejo_info</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_autorizacion_envio_info</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_autoriza_colombia_mayor</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_afp</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_usuario_ultimo_cambio</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_numero_radicado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_canal_sistema</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
					<tns:ParameterName>@estadoVinculado</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>1</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@detalleEstadoVinculado</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_pk_id</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Query para actualizar la información del vinculado que solicita la destinacion de recursos por primera vez. Datos nacimiento-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ActualizarVinculadoPersona</tns:QueryName>
            <tns:CommandText>
				UPDATE BEPS_TRANSACCIONAL.vinculacion.vinc_persona
				SET vpe_departamento_nacimiento = ?,
					vpe_municipio_nacimiento = ?,
					vpe_usuario_ultimo_cambio = ?,
					vpe_numero_radicado = ?,
					vpe_canal_sistema = ?
				WHERE vpe_tipo_documento = ? and vpe_numero_documento = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_departamento_nacimiento</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_municipio_nacimiento</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>5</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_usuario_ultimo_cambio</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_numero_radicado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_canal_sistema</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_tipo_documento</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_numero_documento</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>15</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
               
        <!-- Query para actualizar la información del vinculado que solicita la destinacion de recursos por reconsideración.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ActualizarDatosVinculadoReconsideracion</tns:QueryName>
            <tns:CommandText>
				UPDATE BEPS_TRANSACCIONAL.vinculacion.vinc_vinculado
				SET vvi_autorizacion_manejo_info = ?,
					vvi_autorizacion_envio_info = ?,
					vvi_usuario_ultimo_cambio = ?,
					vvi_numero_radicado = ?,
					vvi_canal_sistema = ?,
					vvi_detalle_estado_vinculado = ?
			 	WHERE vvi_pk_id = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_autorizacion_manejo_info</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_autorizacion_envio_info</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_usuario_ultimo_cambio</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_numero_radicado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_canal_sistema</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
					<tns:ParameterName>@detalleEstadoVinculado</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vvi_pk_id</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
  
        <!-- Consulta para validar la existencia de un código de tipo Documental.-->
    	<tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarTipoDocumental</tns:QueryName>
            <tns:CommandText>select ttc_pk_codigo
                from
                BEPS_TRANSACCIONAL.parametricas.tran_tipo_codigo_documental
                where ttc_pk_codigo = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@ttc_pk_codigo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>20</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta para validar la existencia de un código de tipo Detinación.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarTipoDestinacion</tns:QueryName>
            <tns:CommandText>select otd_pk_codigo
                from
                BEPS_TRANSACCIONAL.parametricas.otor_tipo_destinacion
                where otd_pk_codigo = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@otd_pk_codigo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>20</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta para validar la existencia de un código de tipo de Solicitud.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarTipoSolicitud</tns:QueryName>
            <tns:CommandText>select pts_pk_codigo
                from
                BEPS_TRANSACCIONAL.parametricas.otor_tipo_solicitud
                where pts_pk_codigo = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@pts_pk_codigo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>20</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta para validar la existencia de un código de AFP.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarAfp</tns:QueryName>
            <tns:CommandText>select vaf_pk_codigo
                from
                BEPS_TRANSACCIONAL.parametricas.vinc_afp
                where vaf_pk_codigo = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vaf_pk_codigo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>20</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
       <!-- Consulta para obtener el código de AFP según su descripción-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultaCodigoAfp</tns:QueryName>
            <tns:CommandText>select vaf_pk_codigo
                from [BEPS_TRANSACCIONAL].[parametricas].[vinc_afp]
  				where UPPER(vaf_nombre_afp) = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vaf_nombre_afp</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta para validar la existencia de un código de tipo de tercero.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarTipoTercero</tns:QueryName>
            <tns:CommandText>select ott_pk_codigo
                from
                BEPS_TRANSACCIONAL.parametricas.otor_tipo_tercero_otorgamiento
                where ott_pk_codigo = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@ott_pk_codigo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>20</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta para validar la existencia de un código de un canal de radicación.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarCanalRadicacion</tns:QueryName>
            <tns:CommandText>select oco_pk_codigo
                from
                BEPS_TRANSACCIONAL.parametricas.otor_canal_otorgamiento
                where oco_pk_codigo = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@oco_pk_codigo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Llamado al procedimiento almacenado para crear solicitud de Destinación -->
        <tns:MetadataQuery>
			<tns:QueryName>StoredProcedure_crearSolicitudDestinacion</tns:QueryName>
			<tns:CommandText>BEPS_TRANSACCIONAL.[otorgamiento].[pr_bene_crearSolicitudDestinacion](?,?,?,?,?,?,?,?,?,?,?,?,?,?)</tns:CommandText>
			<tns:Parameters>
				<tns:Parameter>
					<tns:ParameterName>@idVinculado</tns:ParameterName>
					<tns:ParameterType>BIGINT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@fechaRegistroFirma</tns:ParameterName>
					<tns:ParameterType>DATE</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@fechaConstanciaEjecutora</tns:ParameterName>
					<tns:ParameterType>DATE</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@fechaRegistro</tns:ParameterName>
					<tns:ParameterType>TIMESTAMP</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@trasladoSGPBEPS</tns:ParameterName>
					<tns:ParameterType>BIT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@tipoSolicitud</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@usuarioRegistroSistema</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@numeroRadicacion</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@numeroRadicacionPadre</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@canalRadicacionSolicitud</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@usuarioAnalista</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@usuarioRevisor</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
                    <tns:ParameterName>@esPrimeraVez</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
				<tns:Parameter>
                    <tns:ParameterName>@idSolicitud</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
			</tns:Parameters>
		</tns:MetadataQuery>
		
		<!-- Insert para las destinaciones de recursos. -->
		<tns:MetadataQuery>
			<tns:QueryName>PR_RegistrarDestinaciones</tns:QueryName>
			<tns:CommandText>
				INSERT INTO BEPS_TRANSACCIONAL.[otorgamiento].[otor_destinacion]
					([ode_tipo_destinacion],[ode_porcentaje],[odo_id_solicitud])
     			VALUES (?,?,?)
			</tns:CommandText>
			<tns:Parameters>
				<tns:Parameter>
					<tns:ParameterName>@codTipo</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@porcentaje</tns:ParameterName>
					<tns:ParameterType>BIGINT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@idSolicitud</tns:ParameterName>
					<tns:ParameterType>BIGINT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
			</tns:Parameters>
		</tns:MetadataQuery>
		
		<!-- Insert para registrar los documentos asociados a la solicitud de destinación. -->
		<tns:MetadataQuery>
			<tns:QueryName>PR_RegistrarDocumentos</tns:QueryName>
			<tns:CommandText>
				INSERT INTO BEPS_TRANSACCIONAL.[transversal].[tran_documento]
           			([tdo_codigo_gestor_documental],[tdo_codigo_tipo_documental])
     			VALUES(?,?)
			</tns:CommandText>
			<tns:Parameters>
				<tns:Parameter>
					<tns:ParameterName>@idGestor</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>50</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@codTipoDoc</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>20</tns:ParameterScale>
				</tns:Parameter>
			</tns:Parameters>
		</tns:MetadataQuery>
		
		<!-- Insert para asociar a la solicitud los documentos. -->
		<tns:MetadataQuery>
			<tns:QueryName>PR_RegistrarDocumentosSolicitud</tns:QueryName>
			<tns:CommandText>
				INSERT INTO BEPS_TRANSACCIONAL.[otorgamiento].[otor_documento_solicitud]
           			([ods_id_solicitud],[ods_id_documento])
     			VALUES(?,?)
			</tns:CommandText>
			<tns:Parameters>
				<tns:Parameter>
					<tns:ParameterName>@idSolicitud</tns:ParameterName>
					<tns:ParameterType>BIGINT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@idDocumento</tns:ParameterName>
					<tns:ParameterType>BIGINT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
			</tns:Parameters>
		</tns:MetadataQuery>
		
		<!--  Insert para registrar la información del tercero asociado a la solicitud. -->
		<tns:MetadataQuery>
			<tns:QueryName>PR_RegistrarInfoTercero</tns:QueryName>
			<tns:CommandText>
				INSERT INTO BEPS_TRANSACCIONAL.[otorgamiento].[otor_tercero_solicitud]
					([ote_tipo_documento],[ote_numero_documento],
					 [ote_primer_nombre],[ote_segundo_nombre],
					 [ote_primer_apellido],[ote_segundo_apellido],
					 [ote_tipo_tercero],
					 [ote_numero_tarjeta_profesional],
					 [ote_autoriza_envio_info],
					 [ote_autoriza_uso_info],
					 [ote_id_solicitud])
				VALUES
		           (?,?,?,?,?,?,?,?,?,?,?)
			</tns:CommandText>
			<tns:Parameters>
				<tns:Parameter>
					<tns:ParameterName>@tipoDocumento</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@numeroDocumento</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>15</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@primerNombre</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@segundoNombre</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@primerApellido</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@segundoApellido</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@tipoTercero</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@numTarjetaProfesional</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>20</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
                    <tns:ParameterName>@autoEnvioInfo</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@autoUsoInfo</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@idSolicitud</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
			</tns:Parameters>
		</tns:MetadataQuery>
		
		<!-- Asociar la lista de direcciones al vinculado - 27072016 Se actualiza con consulta del WS de vinculado -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_adicionarContactoDireccionVinculado</tns:QueryName>
            <tns:CommandText>INSERT INTO
                BEPS_TRANSACCIONAL.[vinculacion].[vinc_direccion]
                ([vdi_fk_id_persona],[vdi_codigo_municipio],[vdi_direccion],[vdi_direccion_principal],[vdi_usuario_ultimo_cambio],[vdi_numero_radicado],[vdi_canal_sistema])
                VALUES (?,(select vmu_codigo_dane_municipio
                from BEPS_TRANSACCIONAL.[parametricas].[vinc_municipio] m where
                m.vmu_codigo_dane_municipio=?),?,?,?,?,?)
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@idPersona</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@codMunicipio</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>5</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@direccion</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>60</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@principal</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@usuario</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@radicado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@canal</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>

            </tns:Parameters>
        </tns:MetadataQuery>


        <!-- Asociar la lista de teléfonos al vinculado -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_adicionarContactoTelefonoVinculado</tns:QueryName>
            <tns:CommandText>INSERT INTO
                BEPS_TRANSACCIONAL.[vinculacion].[vinc_telefono]
                ([vte_fk_id_persona],
                [vte_telefono],
                [vte_indicativo_pais],
                [vte_indicativo_ciudad],
                [vte_extension],
                [vte_telefono_principal],
                [vte_tipo],
                [vte_usuario_ultimo_cambio],
                [vte_numero_radicado],
                [vte_canal_sistema])
                VALUES (?,?,?,?,?,?,?,?,?,?)
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@idPersona</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@telefono</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>20</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@indPais</tns:ParameterName>
                    <tns:ParameterType>NUMERIC</tns:ParameterType>
                    <tns:ParameterScale>3</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@indCiudad</tns:ParameterName>
                    <tns:ParameterType>NUMERIC</tns:ParameterType>
                    <tns:ParameterScale>3</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@extension</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>7</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@principal</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
					<tns:ParameterName>@tipo</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@usuario</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@radicado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@canal</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>

            </tns:Parameters>
        </tns:MetadataQuery>

        <!-- Asociar la lista de emails al vinculado -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_adicionarContactoEmailVinculado</tns:QueryName>
            <tns:CommandText>
                INSERT INTO
                BEPS_TRANSACCIONAL.[vinculacion].[vinc_email]
                ([vem_fk_id_persona],[vem_email],[vem_email_principal],[vem_usuario_ultimo_cambio],[vem_numero_radicado],[vem_canal_sistema])
                VALUES (?,?,?,?,?,?)
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@idPersona</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@email</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>255</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@principal</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@usuario</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@radicado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@canal</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>

            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Metodo que elimina un conjunto de direcciones -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_EliminarDireccionVinculado</tns:QueryName>
            <tns:CommandText>delete from BEPS_TRANSACCIONAL.vinculacion.vinc_direccion
   				where vdi_fk_id_persona = ?
   				and vdi_pk_id not in ( select valor_entero 
   				                       from parametricas.fn_conversion_cadena( ? ,',')  
   				                       where valor_entero is not null )
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@idPersona</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@listaIdDireccion</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>300</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
         <!-- Actualizar la lista de direcciones del vinculado -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ActualizarContactoDireccionVinculado</tns:QueryName>
            <tns:CommandText>update BEPS_TRANSACCIONAL.[vinculacion].[vinc_direccion]
                set vdi_codigo_municipio = ?
                ,vdi_direccion = ?
                ,vdi_direccion_principal = ?
                ,vdi_usuario_ultimo_cambio = ?
                ,vdi_numero_radicado = ?
                ,vdi_canal_sistema = ?
				where vdi_pk_id = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@codMunicipio</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>5</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@direccion</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>60</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@principal</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@usuario</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@radicado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@canal</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@idRegistro</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
       <!-- Metodo que elimina un conjunto de telefonos -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_EliminarTelefonoVinculado</tns:QueryName>
            <tns:CommandText>delete from BEPS_TRANSACCIONAL.vinculacion.vinc_telefono
   				where vte_fk_id_persona = ?
   				and vte_pk_id not in ( select valor_entero 
   				                       from parametricas.fn_conversion_cadena( ? ,',')  
   				                       where valor_entero is not null )
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@idPersona</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@listaIdTelefono</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>300</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Actualizar la lista de teléfonos del vinculado -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ActualizarContactoTelefonoVinculado</tns:QueryName>
            <tns:CommandText>update BEPS_TRANSACCIONAL.vinculacion.vinc_telefono
                set vte_telefono = ?
                ,vte_tipo = ?
                ,vte_extension = ?
                ,vte_telefono_principal = ?
                ,vte_usuario_ultimo_cambio = ?
                ,vte_numero_radicado = ?
                ,vte_canal_sistema = ?
                where vte_pk_id = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@telefono</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>20</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@tipo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@extension</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>7</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@principal</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@usuario</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@radicado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@canal</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@idRegistro</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Metodo que elimina un conjunto de correos electrónicos -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_EliminarEmailVinculado</tns:QueryName>
            <tns:CommandText>delete from BEPS_TRANSACCIONAL.vinculacion.vinc_email
   				where vem_fk_id_persona = ?
   				and vem_pk_id not in ( select valor_entero 
   				                       from parametricas.fn_conversion_cadena( ? ,',')  
   				                       where valor_entero is not null )
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@idPersona</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@listaIdEmail</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>300</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Actualizar la lista de emails del vinculado -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ActualizarContactoEmailVinculado</tns:QueryName>
            <tns:CommandText>update BEPS_TRANSACCIONAL.vinculacion.vinc_email
                set vem_email = ?
                ,vem_email_principal = ?
                ,vem_usuario_ultimo_cambio = ?
                ,vem_numero_radicado = ?
                ,vem_canal_sistema = ?
                where vem_pk_id = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@email</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>255</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@principal</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@usuario</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@radicado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@canal</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@idRegistro</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Crea un registro en la tabla de historicos de estado.-->
        <tns:MetadataQuery>
			<tns:QueryName>PR_CrearHistoricoEstadoVinculado</tns:QueryName>
			<tns:CommandText>
				INSERT INTO [vinculacion].[vinc_historico_estados]
			           ([vhe_id_vinculado]
			           ,[vhe_estado_anterior]
			           ,[vhe_detalle_estado_anterior]
			           ,[vhe_estado_nuevo]
			           ,[vhe_detalle_estado_nuevo]
			           ,[vhe_fecha_cambio_estado]
			           ,[vhe_origen_cambio]
			           ,[vhe_referencia_cambio])
			    VALUES (?,?,?,?,?,GETDATE(),?,?)
			</tns:CommandText>
			<tns:Parameters>
				<tns:Parameter>
					<tns:ParameterName>@idVinculado</tns:ParameterName>
					<tns:ParameterType>BIGINT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@estadoAnterior</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>1</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@detalleEstadoAnterior</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@estadoNuevo</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>1</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@detalleEstadoNuevo</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@origenCambio</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>50</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@referenciaCambio</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>50</tns:ParameterScale>
				</tns:Parameter>
			</tns:Parameters>
		</tns:MetadataQuery>        	
		
		<!-- ================================================================ -->
		<!-- Adición de consultas requeridas para generación de novedades BUC -->
		<!-- ================================================================ -->
		
	    <!-- Consulta para validar la existencia de un vinculado sobre el sistema BEPS -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarVinculadoDatosModificados</tns:QueryName>
            <tns:CommandText>select vpe_pk_id,ISNULL(vvi_id_buc,0)
				from vinculacion.vinc_persona 
				inner join vinculacion.vinc_vinculado
				on vvi_pk_id = vpe_pk_id
				where vpe_tipo_documento = ?
				and vpe_numero_documento = ?
				and vvi_tipo_vinculado = 'V'
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_tipo_documento</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@vpe_numero_documento</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>15</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
				 		
		 <!-- Consulta para validar el endPoint de Generacion Novedades BUC  -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarParametrosBucPorNombre</tns:QueryName>
            <tns:CommandText>select vpb_valor
				from parametricas.vinc_parametros_buc 
				where vpb_nombre = ?
			</tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vinc_param_nombre</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Insert en la tabla de Bitácora Generacion Novedades BUC  -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_InsertarNovedadBuc</tns:QueryName>
            <tns:CommandText>INSERT INTO vinculacion.vinc_bitacora_novedades_buc
             (bnb_id_vinculado_sgb,bnb_tipo_novedad,bnb_estado_novedad,bnb_fecha_registro,bnb_usuario_negocio
             ,bnb_datos_novedad)
			VALUES (?,?,?, GETDATE(),?,?)
			</tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@id_vinculado_sgb</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@tipo_novedad</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>3</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@estado_novedad</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@usuario_negocio</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@datos_novedad</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>MAX</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Insert en la tabla de Generacion Novedades BUC  -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_consultarNovedadesPendientesBUC</tns:QueryName>
            <tns:CommandText>SELECT count(*) as numRegistros  FROM vinculacion.vinc_bitacora_novedades_buc
             where bnb_id_vinculado_sgb=?  and  bnb_estado_novedad in(?,?)
			</tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@id_vinculado_sgb</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@estado_novedad1</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@estado_novedad2</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
           </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta un prospecto, asigna la información de un prospecto a vinculado 
            y elimina el prospecto -->
        <tns:MetadataQuery>
            <tns:QueryName>StoredProcedure_ConsultarInfoDatosNoSensibles</tns:QueryName>
            <tns:CommandText>BEPS_TRANSACCIONAL.vinculacion.pr_consultar_info_no_sensible_BUC(?,?,?,?)
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@id_vinculado</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@consultar_direcciones</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@consultar_correos</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@consultar_telefonos</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
           </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Crear el registro Historico -->
        <tns:MetadataQuery>
            <tns:QueryName>PR_CrearHistoricoEstado</tns:QueryName>
            <tns:CommandText>
            INSERT INTO [vinculacion].[vinc_historico_estados]
           ([vhe_id_vinculado]
           ,[vhe_estado_anterior]
           ,[vhe_detalle_estado_anterior]
           ,[vhe_estado_nuevo]
           ,[vhe_detalle_estado_nuevo]
           ,[vhe_fecha_cambio_estado]
           ,[vhe_origen_cambio]
           ,[vhe_referencia_cambio])
     		VALUES
           ((select persona.vpe_pk_id from vinculacion.vinc_persona as persona
				inner join vinculacion.vinc_vinculado as vinculado on vinculado.vvi_pk_id = persona.vpe_pk_id
				where persona.vpe_tipo_documento ='CC'
				and vinculado.vvi_tipo_vinculado='V'
				and persona.vpe_numero_documento = ?),?,?,?,?,GETDATE(),?,?)
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@idVinculado</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>15</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@estadoAnterior</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>1</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@detalleEstadoAnterior</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>3</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@estadoNuevo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>1</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@detalleEstadoNuevo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>3</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@origenCambio</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@referenciaCambio</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>50</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
		
        <!-- Consulta para validar la existencia de un tipo de documento dado su código.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarTipoDocumento</tns:QueryName>
            <tns:CommandText>select vti_cod_beps
                from
                BEPS_TRANSACCIONAL.parametricas.vinc_tipo_identificacion
                where vti_cod_beps = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vti_cod_beps</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta para validar la existencia de un parentesco dado su código.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarParentesco</tns:QueryName>
            <tns:CommandText>select opa_pk_codigo
                from
                BEPS_TRANSACCIONAL.parametricas.otor_parentesco
                where opa_pk_codigo = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@opa_pk_codigo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta para validar la existencia de un código de un departamento dado su código DANE.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarDepartamento</tns:QueryName>
            <tns:CommandText>select vde_codigo_dane_depto
                from
                BEPS_TRANSACCIONAL.parametricas.vinc_departamento
                where vde_codigo_dane_depto = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vde_codigo_dane_depto</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
        <!-- Consulta para validar la existencia de un código de un municipio dado su código DANE.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarMunicipio</tns:QueryName>
            <tns:CommandText>select vmu_codigo_dane_municipio
                from
                BEPS_TRANSACCIONAL.parametricas.vinc_municipio
                where vmu_codigo_dane_municipio = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@vmu_codigo_dane_municipio</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>   
        
	    <!-- Consulta para validar la existencia de una entidad financiera dado su código ACH.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarEntidadFinanciera</tns:QueryName>
            <tns:CommandText>select oef_pk_codigo
                 from BEPS_TRANSACCIONAL.parametricas.otor_entidad_financiera
                where oef_pk_codigo = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@oef_pk_codigo</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>4</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>        

		<!-- Consulta que retorna el código de un tipo de cuenta dado su nombre.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarCodigoTipoCuenta</tns:QueryName>
            <tns:CommandText>select otc_pk_codigo
                from
                BEPS_TRANSACCIONAL.parametricas.otor_tipo_cuenta_bancaria
                where otc_nombre = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@otc_nombre</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>10</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>  
        
        <!-- Consulta para validar si para un vinculado fallecido existe una solicitud de devolución 
             de ahorros a herederos aprobada por el gerente o en gestión del gerente.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarSolicitudDevolucionAhorrosHeredero</tns:QueryName>
            <tns:CommandText>select osd_pk_id
                 from BEPS_TRANSACCIONAL.otorgamiento.otor_solicitud_destinacion 
                where osd_estado_solicitud = 'Aprobado'
			      and osd_etapa_solicitud in ('Cerrada', 'Gerencia', 'Notificación')
                  and osd_tipo_solicitud = '03'
                  and osd_id_vinculado = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@osd_id_vinculado</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>      
        
        <!-- Llamado al procedimiento almacenado para crear solicitud de Devolución de Ahorros a Herederos.-->
        <tns:MetadataQuery>
			<tns:QueryName>StoredProcedure_crearSolicitudDevolucionAhorrosHerederos</tns:QueryName>
			<tns:CommandText>BEPS_TRANSACCIONAL.[otorgamiento].[pr_otor_crearSolicitudDevolucionAhorrosHerederos](?,?,?,?,?,?,?,?,?,?,?,?,?)</tns:CommandText>
			<tns:Parameters>
				<tns:Parameter>
					<tns:ParameterName>@idVinculado</tns:ParameterName>
					<tns:ParameterType>BIGINT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@fechaRegistroFirma</tns:ParameterName>
					<tns:ParameterType>DATE</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@fechaRegistro</tns:ParameterName>
					<tns:ParameterType>TIMESTAMP</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@tipoSolicitud</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@usuarioRegistroSistema</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>50</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@numeroRadicacion</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>50</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@canalRadicacionSolicitud</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@usuarioAnalista</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>50</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@usuarioRevisor</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>50</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@estadoSolicitud</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>20</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@etapaSolicitud</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>20</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@solicitudPlenitud</tns:ParameterName>
					<tns:ParameterType>BIT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
                    <tns:ParameterName>@idSolicitud</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>				
			</tns:Parameters>
		</tns:MetadataQuery>

        <!-- Llamado al procedimiento almacenado para crear los terceros/herederos asociados 
             a una solicitud de Devolución de Ahorros a Herederos.-->
        <tns:MetadataQuery>
			<tns:QueryName>StoredProcedure_crearHerederoSolicitudDevolucionAhorros</tns:QueryName>
			<tns:CommandText>BEPS_TRANSACCIONAL.[otorgamiento].[pr_otor_crearHerederoSolicitudDevolucionAhorros](?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)</tns:CommandText>
			<tns:Parameters>
				<tns:Parameter>
					<tns:ParameterName>@tipoDocumento</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@numeroDocumento</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>15</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@primerNombre</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@segundoNombre</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@primerApellido</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@segundoApellido</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>30</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@tipoTercero</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@numTarjetaProfesional</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>20</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@autoEnvioInfo</tns:ParameterName>
					<tns:ParameterType>BIT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@autoUsoInfo</tns:ParameterName>
					<tns:ParameterType>BIT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
                    <tns:ParameterName>@idSolicitud</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@esRepresentanteHerederos</tns:ParameterName>
                    <tns:ParameterType>BIT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@parentesco</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@direccionResidencia</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>60</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@barrioResidencia</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>30</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@departamentoResidencia</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@municipioResidencia</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>5</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@telefono1</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>20</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@telefono2</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>20</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@correoElectronico</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>255</tns:ParameterScale>
                </tns:Parameter>				
			</tns:Parameters>
		</tns:MetadataQuery>  
		
	    <!-- Insert para la cuenta bancaria asociada a una solicitud de Devolución de Ahorros a Herederos.-->
		<tns:MetadataQuery>
			<tns:QueryName>PR_RegistrarCuentaBancaria</tns:QueryName>
			<tns:CommandText>
				INSERT INTO BEPS_TRANSACCIONAL.[otorgamiento].[otor_info_cuenta_devolucion]
					([oic_codigo_entidad_financiera],[oic_tipo_cuenta],[oic_numero_cuenta],
					 [oic_numero_identificacion_terc],[oic_tipo_identificacion_terc],
					 [oic_nombre_tercero],[oic_id_solicitud])
     			VALUES (?,?,?,?,?,?,?)
			</tns:CommandText>
			<tns:Parameters>
				<tns:Parameter>
					<tns:ParameterName>@codigoEntidadFinanciera</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>4</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@tipoCuenta</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>1</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@numeroCuenta</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>17</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@numeroIdentificacion</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>15</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@tipoIdentificacion</tns:ParameterName>
					<tns:ParameterType>CHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@nombreTercero</tns:ParameterName>
					<tns:ParameterType>VARCHAR</tns:ParameterType>
					<tns:ParameterScale>2</tns:ParameterScale>
				</tns:Parameter>
				<tns:Parameter>
					<tns:ParameterName>@idSolicitud</tns:ParameterName>
					<tns:ParameterType>BIGINT</tns:ParameterType>
					<tns:ParameterScale></tns:ParameterScale>
				</tns:Parameter>
			</tns:Parameters>
		</tns:MetadataQuery>
		
		<!-- Sentencia para actualizar la fecha de defunción y el Registro Civil de Defunción 
		     de un vinculado fallecido.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ActualizarDatosVinculadoFallecido</tns:QueryName>
            <tns:CommandText>
				UPDATE BEPS_TRANSACCIONAL.vinculacion.vinc_vinculado
				SET vvi_fecha_defuncion = ?,
					vvi_registro_civil_defuncion = ?
			 	WHERE vvi_pk_id = (SELECT vpe_pk_id
			 	                     FROM BEPS_TRANSACCIONAL.vinculacion.vinc_persona
			 	                    WHERE vpe_tipo_documento = ?
			 	                      AND vpe_numero_documento = ?)
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@fechaDefuncion</tns:ParameterName>
                    <tns:ParameterType>DATE</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@registroCivilDefuncion</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>10</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@tipoDocumento</tns:ParameterName>
                    <tns:ParameterType>CHAR</tns:ParameterType>
                    <tns:ParameterScale>2</tns:ParameterScale>
                </tns:Parameter>
                <tns:Parameter>
                    <tns:ParameterName>@numeroDocumento</tns:ParameterName>
                    <tns:ParameterType>VARCHAR</tns:ParameterType>
                    <tns:ParameterScale>15</tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>
        
		<!-- Consulta para validar la existencia de un número de radicación.-->
        <tns:MetadataQuery>
            <tns:QueryName>PR_ConsultarNumeroRadicacion</tns:QueryName>
            <tns:CommandText>select osd_numero_radicado
                 from BEPS_TRANSACCIONAL.otorgamiento.otor_solicitud_destinacion 
                where osd_numero_radicado = ?
            </tns:CommandText>
            <tns:Parameters>
                <tns:Parameter>
                    <tns:ParameterName>@osd_numero_radicado</tns:ParameterName>
                    <tns:ParameterType>BIGINT</tns:ParameterType>
                    <tns:ParameterScale></tns:ParameterScale>
                </tns:Parameter>
            </tns:Parameters>
        </tns:MetadataQuery>  
		
    </tns:MetadataQueries>
</tns:DatabaseConfiguration>
